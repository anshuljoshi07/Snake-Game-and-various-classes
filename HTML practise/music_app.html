<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./music_app.css">
</head>
<body>
    <div>
        <h1>Media player</h1>
        <ul></ul>






    </div>



    <script>
        let songs = ["bheege hoth tere", "GIVE ME SOME SUNSHINE", "Apocalypse", "As long as you love me"]

    </script>
</body>
</html> -->

<!-- functionalitites and components 
1)slider==range type ka inpout
2)3 buttons==font awesome 
3)dynamially create music applications using Array
 -->

 <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/2616bc9d69.js"
      crossorigin="anonymous"
    ></script>
    <title>Music App</title>
    <!-- <link href="./media_music/song1.mp3"> -->
  </head>
  <body>
    <div id="contaier">
      <h1>Media Player</h1>
      <ul id="song-list"></ul>

      <div id="play-section">
        <input type="range" id="progress"  />
        <button><i class="fa-solid fa-backward"></i></button>
        <button id="play-btn"><i class="fa-solid fa-play"></i></button>
        <button><i class="fa-solid fa-forward"></i></button>
      </div>
    </div>

    <script>
    let songs = [
        { id:1 ,name:"song1" },
        { id:2 ,name:"song2" },
        { id:3 ,name:"song3" },
        { id:4 ,name:"song4" }
    ];

     let play = document.getElementById("play-btn");
     let prev = document.querySelector(".fa-solid fa-backward");
     let forward = document.querySelector(".fa-solid fa-forward");
     let progress = document.querySelector("#progress");
     let songList = document.getElementById("song-list");   
        console.log(songList);

        let audio  = new Audio("./media_music/song1.mp3");
        // audio.play();

    for (let song of songs){
        let li = document.createElement("li");
        li.innerText = song.name;
        li.setAttribute("id", song.id);
        li.classList.add("song-item");
        songList.append(li);
        li.addEventListener("click", function(){
            
            var name_s  = "./media_music/" + li.innerText + ".mp3";
            audio.src=name_s;
            console.log(name_s);
            // audio= new Audio(name_s);
            if(audio.paused){
            audio.play();
            play.children[0].classList.remove("fa-play");
            play.children[0].classList.add("fa-pause");
            
        }else{
            audio.pause();
            play.children[0].classList.add("fa-play");
            play.children[0].classList.remove("fa-pause");
       
        }

        // if(play.children[0].classList.contains("fa-play")){
        //     play.children[0].classList.remove("fa-play");
        //     play.children[0].classList.add("fa-pause");

        // }else{
        //     play.children[0].classList.add("fa-play");
        //     play.children[0].classList.remove("fa-pause");


        // }
        })

    }
    
    play.addEventListener("click", function(){
        // audio.paused? audio.play() : audio.pause();
        if(audio.paused){
            audio.play();
        }else{
            audio.pause();
        }

        if(play.children[0].classList.contains("fa-play")){
            play.children[0].classList.remove("fa-play");
            play.children[0].classList.add("fa-pause");

        }else{
            play.children[0].classList.add("fa-play");
            play.children[0].classList.remove("fa-pause");


        }
    })


    audio.addEventListener("timeupdate" , function(){
        let progress_music = (audio.currentTime/audio.duration)*100;
        progress.value=progress_music;
    });

    progress.addEventListener("input", function(){
        audio.currentTime=(progress.value*audio.duration)/100;
    })
    
    // prev.addEventListener("click" , function(){
    //     let current_s = audio.src;
    //     if(current_s=="./media_music/song1.mp3"){
    //         audio.src="./media_music/song4.mp3"
    //     }else{
    //          for( var i : current_s){
                
    //          }   

    //     } 
    // })

    // forward.addEventListener("click", function(){
    //     let current_s = audio.src;
    //     if(current_s=="./media_music/song4.mp3"){
    //         audio.src="./media_music/song1.mp3"
    //     }else{


    //     } 


    // })
    
    
    </script>
  </body>
</html>